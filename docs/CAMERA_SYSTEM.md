# Новая система камеры Intel Render Engine

## Основные улучшения

### 1. Правильная математика движения
- **Локальное движение**: Камера теперь двигается относительно своего направления взгляда
- **WASD** работает как в современных играх (W = вперёд по направлению взгляда, A = влево относительно камеры)
- **Quaternion-based rotation**: Отсутствие gimbal lock и плавные повороты

### 2. Физически корректное движение  
- **Время-зависимое движение**: Скорость не зависит от FPS
- **Плавное ускорение/замедление**: Реалистичная инерция
- **Настраиваемая скорость**: Разные скорости для ходьбы/бега

### 3. Улучшенное управление
- **Shift** = быстрое движение (бег)
- **Ctrl** = движение вниз (вместо Shift)
- **Space** = движение вверх
- **Мышь** = плавный поворот с настраиваемой чувствительностью

## Новые возможности

### Настройки камеры
```python
# Скорость движения (единицы в секунду)
raymarcher.set_camera_speed(5.0)

# Чувствительность мыши (радианы на пиксель)
raymarcher.set_mouse_sensitivity(0.1)
```

### Получение информации о камере
```python
info = raymarcher.get_camera_info()
print(f"Position: {info['position']}")
print(f"Angles: {info['angles']}")
print(f"Velocity: {info['velocity']}")
```

### Программное управление
```python
# Телепортация камеры
raymarcher.set_camera_position(x, y, z)

# Установка углов поворота
raymarcher.set_camera_angles(pitch, yaw, roll)

# Сброс к настройкам сцены
raymarcher.reset_camera()
```

## Технические детали

### Система координат
- **X**: вправо
- **Y**: вверх  
- **Z**: к камере (отрицательный Z = вперёд)

### Углы поворота
- **Pitch**: вращение вокруг X (вверх/вниз), ограничено ±89°
- **Yaw**: вращение вокруг Y (влево/вправо), без ограничений
- **Roll**: вращение вокруг Z (наклон), редко используется

### Векторы камеры
- **Front**: направление взгляда
- **Right**: направление вправо от камеры
- **Up**: направление вверх от камеры

Все векторы автоматически пересчитываются при изменении углов поворота.

## Отличия от старой системы

| Аспект | Старая система | Новая система |
|--------|----------------|---------------|
| Движение | По мировым осям | По локальным осям камеры |
| Скорость | Фиксированная | Время-зависимая |
| Поворот | Euler angles с gimbal lock | Правильные углы Эйлера |
| Плавность | Резкие движения | Плавное ускорение/торможение |
| Реализм | Аркадное управление | Реалистичная физика |

## Использование в играх

Новая система камеры подходит для:
- **FPS игр**: WASD + мышь работают интуитивно
- **Архитектурной визуализации**: Плавное движение в 3D пространстве  
- **Демонстраций**: Профессиональное качество навигации
- **VR подготовки**: Правильная математика для VR адаптации

## Производительность

- ✅ Минимальные накладные расходы
- ✅ Оптимизированные матричные операции
- ✅ Умное кэширование векторов камеры
- ✅ Эффективное обновление только при изменениях
